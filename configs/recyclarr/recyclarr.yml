###############################################################################
# Recyclarr Configuration - TRaSH Templates (HD-Bluray+WEB + Remux+WEB)
# Last Updated: 2024-12-26
###############################################################################

radarr:
  #---------------------------------------------------------------------------
  # Radarr-HD: 1080p Movies (HD-Bluray+WEB AND Remux+WEB profiles)
  #---------------------------------------------------------------------------
  radarr-hd:
    base_url: http://radarr-hd:7878
    api_key: !env_var RADARR_HD_API_KEY
    
    delete_old_custom_formats: true
    replace_existing_custom_formats: true
    
    # Include BOTH HD templates (creates 2 profiles)
    include:
      - template: radarr-quality-definition-movie
      # HD-Bluray + WEB profile
      - template: radarr-quality-profile-hd-bluray-web
      - template: radarr-custom-formats-hd-bluray-web
      # Remux + WEB 1080p profile
      - template: radarr-quality-profile-remux-web-1080p
      - template: radarr-custom-formats-remux-web-1080p
    
    media_naming:
      folder: plex
      movie:
        rename: true
        standard: plex
    
    # Boost HDR scoring for both profiles
    custom_formats:
      - trash_ids:
          - dfb86d5941bc9075d6af23b09c2aeecd  # HDR10
        assign_scores_to:
          - name: HD-Bluray + WEB
            score: 400
          - name: Remux + WEB 1080p
            score: 400

  #---------------------------------------------------------------------------
  # Radarr-4K: 4K Movies (UHD-Bluray+WEB AND Remux+WEB profiles)
  #---------------------------------------------------------------------------
  radarr-4k:
    base_url: http://radarr-4k:7878
    api_key: !env_var RADARR_4K_API_KEY
    
    delete_old_custom_formats: true
    replace_existing_custom_formats: true
    
    # Include BOTH 4K templates (creates 2 profiles)
    include:
      - template: radarr-quality-definition-movie
      # UHD-Bluray + WEB profile
      - template: radarr-quality-profile-uhd-bluray-web
      - template: radarr-custom-formats-uhd-bluray-web
      # Remux + WEB 2160p profile
      - template: radarr-quality-profile-remux-web-2160p
      - template: radarr-custom-formats-remux-web-2160p
    
    media_naming:
      folder: plex
      movie:
        rename: true
        standard: plex
    
    custom_formats:
      - trash_ids:
          - dfb86d5941bc9075d6af23b09c2aeecd  # HDR10
        assign_scores_to:
          - name: UHD-Bluray + WEB
            score: 500
          - name: Remux + WEB 2160p
            score: 500

sonarr:
  #---------------------------------------------------------------------------
  # Sonarr-HD: 1080p TV Shows
  #---------------------------------------------------------------------------
  sonarr-hd:
    base_url: http://sonarr-hd:8989
    api_key: !env_var SONARR_HD_API_KEY
    
    delete_old_custom_formats: true
    replace_existing_custom_formats: true
    
    # Include TRaSH WEB template
    include:
      - template: sonarr-quality-definition-series
      - template: sonarr-v4-quality-profile-web-1080p
      - template: sonarr-v4-custom-formats-web-1080p
    
    media_naming:
      series: plex
      season: plex
      episodes:
        rename: true
        standard: default
        daily: default
        anime: default
    
    # Create custom Remux profile (no TRaSH template for Sonarr Remux)
    quality_profiles:
      - name: Remux-1080p
        reset_unmatched_scores:
          enabled: true
        upgrade:
          allowed: true
          until_quality: Remux-1080p
          until_score: 10000
        qualities:
          - name: Remux-1080p
    
    custom_formats:
      - trash_ids:
          - dfb86d5941bc9075d6af23b09c2aeecd  # HDR10
        assign_scores_to:
          - name: WEB-1080p
            score: 200
          - name: Remux-1080p
            score: 200

  #---------------------------------------------------------------------------
  # Sonarr-4K: 4K TV Shows
  #---------------------------------------------------------------------------
  sonarr-4k:
    base_url: http://sonarr-4k:8989
    api_key: !env_var SONARR_4K_API_KEY
    
    delete_old_custom_formats: true
    replace_existing_custom_formats: true
    
    # Include TRaSH WEB template
    include:
      - template: sonarr-quality-definition-series
      - template: sonarr-v4-quality-profile-web-2160p
      - template: sonarr-v4-custom-formats-web-2160p
    
    media_naming:
      series: plex
      season: plex
      episodes:
        rename: true
        standard: default
        daily: default
        anime: default
    
    # Create custom 4K Remux profile
    quality_profiles:
      - name: Remux-2160p
        reset_unmatched_scores:
          enabled: true
        upgrade:
          allowed: true
          until_quality: Remux-2160p
          until_score: 10000
        qualities:
          - name: Remux-2160p
    
    custom_formats:
      - trash_ids:
          - dfb86d5941bc9075d6af23b09c2aeecd  # HDR10
        assign_scores_to:
          - name: WEB-2160p
            score: 400
          - name: Remux-2160p
            score: 400
